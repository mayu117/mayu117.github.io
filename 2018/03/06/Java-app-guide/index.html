<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java,开发规范," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="Guide 为什么要有团队规范？本规范的形成旨在为项目开发建立一个可操作的编程标准、约定和指南，以规范我们的代码开发工作, 减少在浏览不同作者的代码时，因代码风格的不同而造成不便。提高代码的可读性，提高系统的健壮性、稳定性、可靠性。通过遵循这些规范，作为一个开发者的生产效率会有显著提高。经验证明，若从一开始就花时间编写高质量的代码，则在开发阶段，对代码的修改要容易很多。并且遵循一套通用的程序设计标">
<meta name="keywords" content="Java,开发规范">
<meta property="og:type" content="article">
<meta property="og:title" content="业务系统开发规范">
<meta property="og:url" content="https://mayu117.github.io/2018/03/06/Java-app-guide/index.html">
<meta property="og:site_name" content="菜鸟程序猿">
<meta property="og:description" content="Guide 为什么要有团队规范？本规范的形成旨在为项目开发建立一个可操作的编程标准、约定和指南，以规范我们的代码开发工作, 减少在浏览不同作者的代码时，因代码风格的不同而造成不便。提高代码的可读性，提高系统的健壮性、稳定性、可靠性。通过遵循这些规范，作为一个开发者的生产效率会有显著提高。经验证明，若从一开始就花时间编写高质量的代码，则在开发阶段，对代码的修改要容易很多。并且遵循一套通用的程序设计标">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-06T06:00:08.851Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="业务系统开发规范">
<meta name="twitter:description" content="Guide 为什么要有团队规范？本规范的形成旨在为项目开发建立一个可操作的编程标准、约定和指南，以规范我们的代码开发工作, 减少在浏览不同作者的代码时，因代码风格的不同而造成不便。提高代码的可读性，提高系统的健壮性、稳定性、可靠性。通过遵循这些规范，作为一个开发者的生产效率会有显著提高。经验证明，若从一开始就花时间编写高质量的代码，则在开发阶段，对代码的修改要容易很多。并且遵循一套通用的程序设计标">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://mayu117.github.io/2018/03/06/Java-app-guide/"/>





  <title>业务系统开发规范 | 菜鸟程序猿</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">菜鸟程序猿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mayu117.github.io/2018/03/06/Java-app-guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马玉亮">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="菜鸟程序猿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">业务系统开发规范</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-06T00:00:00+08:00">
                2018-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java成长之路/" itemprop="url" rel="index">
                    <span itemprop="name">Java成长之路</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Guide"><a href="#Guide" class="headerlink" title="Guide"></a>Guide</h1><hr>
<h2 id="为什么要有团队规范？"><a href="#为什么要有团队规范？" class="headerlink" title="为什么要有团队规范？"></a>为什么要有团队规范？</h2><p>本规范的形成旨在为项目开发建立一个可操作的编程标准、约定和指南，以规范我们的代码开发工作, 减少在浏览不同作者的代码时，因代码风格的不同而造成不便。提高代码的可读性，提高系统的健壮性、稳定性、可靠性。通过遵循这些规范，作为一个开发者的生产效率会有显著提高。经验证明，若从一开始就花时间编写高质量的代码，则在开发阶段，对代码的修改要容易很多。并且遵循一套通用的程序设计标准将带来更大的一致性，使开发团队的效率明显提高。虽然这些细节不会有性能上的优化，但是却体现了一个coder和团队的专业程度。</p>
<hr>
<h2 id="规范列表："><a href="#规范列表：" class="headerlink" title="规范列表："></a>规范列表：</h2><ul>
<li><a href="#Java规范">Java规范</a></li>
<li><a href="#Javascript规范">Javascript规范</a></li>
<li><a href="#Sql规范">Sql规范</a></li>
</ul>
<h1 id="Java规范"><a href="#Java规范" class="headerlink" title="Java规范"></a>Java规范</h1><h4 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a><a href="#javaVariable">变量定义</a></h4><h4 id="常量定义"><a href="#常量定义" class="headerlink" title="常量定义"></a><a href="#javaConstant">常量定义</a></h4><h4 id="格式规约"><a href="#格式规约" class="headerlink" title="格式规约"></a><a href="#javaFormat">格式规约</a></h4><h1 id="一-变量定义"><a href="#一-变量定义" class="headerlink" title="一.变量定义"></a><a name="javaVariable">一.变量定义</a></h1><h4 id="1-【强制】-代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。"><a href="#1-【强制】-代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。" class="headerlink" title="1.【强制】 代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。"></a>1.【强制】 代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。</h4><p>说明：正确的英文拼写和语法可以让阅读者易于理解，避免歧义。注意，即使纯拼音命名方式也要避免采用。不会的单词请<a href="http://fanyi.baidu.com/" target="_blank" rel="noopener">百度翻译</a>。<br>反例： <code>DaZhePromotion [打折] / getPingfenByName() [评分] / int 某变量 = 3</code><br>正例： <code>alibaba / taobao / youku / hangzhou</code> 等国际通用的名称，可视同英文。     </p>
<hr>
<h4 id="2-类名使用-UpperCamelCase-风格（首字母大写），必须遵从驼峰形式。"><a href="#2-类名使用-UpperCamelCase-风格（首字母大写），必须遵从驼峰形式。" class="headerlink" title="2. 类名使用 UpperCamelCase 风格（首字母大写），必须遵从驼峰形式。"></a>2. 类名使用 UpperCamelCase 风格（首字母大写），必须遵从驼峰形式。</h4><p>正例：<code>MarcoPolo / UserDO / XmlService / TcpUdpDeal / TaPromotion</code><br>反例：<code>macroPolo / UserDo / XMLService / TCPUDPDeal / TAPromotion</code>  </p>
<hr>
<h4 id="3-方法名、参数名、成员变量、局部变量都统一使用-lowerCamelCase-风格（首字母小写），必须遵从驼峰形式。"><a href="#3-方法名、参数名、成员变量、局部变量都统一使用-lowerCamelCase-风格（首字母小写），必须遵从驼峰形式。" class="headerlink" title="3. 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格（首字母小写），必须遵从驼峰形式。"></a>3. 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格（首字母小写），必须遵从驼峰形式。</h4><p>正例： <code>localValue / getHttpMessage() / inputUserId</code></p>
<hr>
<h4 id="4-【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。"><a href="#4-【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。" class="headerlink" title="4. 【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。"></a>4. 【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。</h4><p>正例： <code>MAX_STOCK_COUNT</code><br>反例： <code>MAX_COUNT</code>    </p>
<hr>
<h4 id="5-【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。"><a href="#5-【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。" class="headerlink" title="5. 【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。"></a>5. 【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。</h4><p>正例： 应用工具类包名为 com.java.open.util、类名为 MessageUtils（此规则参考spring 的框架结构）</p>
<hr>
<h4 id="6-杜绝完全不规范的缩写，避免望文不知义。"><a href="#6-杜绝完全不规范的缩写，避免望文不知义。" class="headerlink" title="6. 杜绝完全不规范的缩写，避免望文不知义。"></a>6. 杜绝完全不规范的缩写，避免望文不知义。</h4><p>反例： <code>AbstractClass</code>“缩写”命名成 <code>AbsClass</code>；<code>condition</code>“缩写”命名成 <code>condi</code>，此类随意缩写严重降低了代码的可阅读性。</p>
<hr>
<h4 id="7-【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。"><a href="#7-【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。" class="headerlink" title="7. 【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。"></a>7. 【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。</h4><p>说明：将设计模式体现在名字中，有利于阅读者快速理解架构设计思想。<br>正例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public class OrderFactory;</span><br><span class="line">public class LoginProxy;</span><br><span class="line">public class ResourceObserver;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="8-枚举类名建议带上-Enum-后缀，枚举成员名称需要全大写，单词间用下划线隔开。"><a href="#8-枚举类名建议带上-Enum-后缀，枚举成员名称需要全大写，单词间用下划线隔开。" class="headerlink" title="8. 枚举类名建议带上 Enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开。"></a>8. 枚举类名建议带上 Enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开。</h4><p>说明：枚举其实就是特殊的常量类，且构造方法被默认强制是私有。<br>正例：枚举名字：<code>DealStatusEnum</code>，成员名称：<code>SUCCESS / UNKOWN_REASON</code>。   </p>
<hr>
<h4 id="9-【强制】-代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。"><a href="#9-【强制】-代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。" class="headerlink" title="9. 【强制】 代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。"></a>9. 【强制】 代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。</h4><p>反例：<code>_name / __name / $Object / name_ / name$ / Object$</code></p>
<hr>
<h4 id="10-【推荐】接口类中的方法和属性不要加任何修饰符号（public-也不要加），保持代码的简洁性，并加上有效的-Javadoc-注释"><a href="#10-【推荐】接口类中的方法和属性不要加任何修饰符号（public-也不要加），保持代码的简洁性，并加上有效的-Javadoc-注释" class="headerlink" title="10. 【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的 Javadoc 注释"></a>10. 【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的 Javadoc 注释</h4><h4 id="11-源代码文件以文件内容中的最顶层的Java类命名，而且大小写敏感，文件扩展名为-java，同时，文件的编码格式统一为UTF-8。"><a href="#11-源代码文件以文件内容中的最顶层的Java类命名，而且大小写敏感，文件扩展名为-java，同时，文件的编码格式统一为UTF-8。" class="headerlink" title="11. 源代码文件以文件内容中的最顶层的Java类命名，而且大小写敏感，文件扩展名为 .java，同时，文件的编码格式统一为UTF-8。"></a>11. 源代码文件以文件内容中的最顶层的Java类命名，而且大小写敏感，文件扩展名为 .java，同时，文件的编码格式统一为UTF-8。</h4><h4 id="12-类的命名遵循大驼峰命名法UpperCamelCase，而方法名和变量名的命名遵循小驼峰命名法lowerCamelCase"><a href="#12-类的命名遵循大驼峰命名法UpperCamelCase，而方法名和变量名的命名遵循小驼峰命名法lowerCamelCase" class="headerlink" title="12. 类的命名遵循大驼峰命名法UpperCamelCase，而方法名和变量名的命名遵循小驼峰命名法lowerCamelCase"></a>12. 类的命名遵循大驼峰命名法UpperCamelCase，而方法名和变量名的命名遵循小驼峰命名法lowerCamelCase</h4><p>常量名使用大写字母表示，单词之间以下划线分隔，例如static final int CONNECTION_TIMEOUT = 10000</p>
<hr>
<h1 id="二-常量定义"><a href="#二-常量定义" class="headerlink" title="二.常量定义"></a><a name="javaConstant">二.常量定义</a></h1><h4 id="1-【强制】不允许出现任何魔法值（即未经定义的常量）直接出现在代码中。"><a href="#1-【强制】不允许出现任何魔法值（即未经定义的常量）直接出现在代码中。" class="headerlink" title="1. 【强制】不允许出现任何魔法值（即未经定义的常量）直接出现在代码中。"></a>1. 【强制】不允许出现任何魔法值（即未经定义的常量）直接出现在代码中。</h4><p>反例： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String key = &quot;Id#taobao_&quot;+tradeId；</span><br><span class="line">cache.put(key, value);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="2-【强制】long-或者-Long-初始赋值时，必须使用大写的-L，不能是小写的-l，小写容易跟数字1-混淆，造成误解。"><a href="#2-【强制】long-或者-Long-初始赋值时，必须使用大写的-L，不能是小写的-l，小写容易跟数字1-混淆，造成误解。" class="headerlink" title="2. 【强制】long 或者 Long 初始赋值时，必须使用大写的 L，不能是小写的 l，小写容易跟数字1 混淆，造成误解。"></a>2. 【强制】long 或者 Long 初始赋值时，必须使用大写的 L，不能是小写的 l，小写容易跟数字1 混淆，造成误解。</h4><p>说明：Long a = 2l; 写的是数字的 21，还是 Long 型的 2?</p>
<hr>
<h4 id="3-【强制】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。"><a href="#3-【强制】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。" class="headerlink" title="3. 【强制】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。"></a>3. 【强制】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。</h4><p>如：缓存相关的常量放在类：CacheConsts 下；系统配置相关的常量放在类：ConfigConsts 下。<br>说明：大而全的常量类，非得使用查找功能才能定位到修改的常量，不利于理解和维护。   </p>
<hr>
<h4 id="4-【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。"><a href="#4-【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。" class="headerlink" title="4. 【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。"></a>4. 【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1） 跨应用共享常量：放置在二方库中，通常是 client.jar 中的 constant 目录下。   </span><br><span class="line">2） 应用内共享常量：放置在一方库的 modules 中的 constant 目录下。   </span><br><span class="line">反例：易懂变量也要统一定义成应用内共享常量，两位攻城师在两个类中分别定义了表示“是”的变量：   </span><br><span class="line">类 A 中：public static final String YES = &quot;yes&quot;;   </span><br><span class="line">类 B 中：public static final String YES = &quot;y&quot;;   </span><br><span class="line">A.YES.equals(B.YES)，预期是 true，但实际返回为 false，导致产生线上问题。      </span><br><span class="line">3） 子工程内部共享常量：即在当前子工程的 constant 目录下。    </span><br><span class="line">4） 包内共享常量：即在当前包下单独的 constant 目录下。    </span><br><span class="line">5） 类内共享常量：直接在类内部 private static final 定义。</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="5-【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面"><a href="#5-【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面" class="headerlink" title="5.【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面"></a>5.【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面</h4><p>正例中的数字就是延伸信息，表示星期几。<br>正例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public Enum &#123; </span><br><span class="line">   MONDAY(1),</span><br><span class="line">   TUESDAY(2),</span><br><span class="line">   WEDNESDAY(3),</span><br><span class="line">   THURSDAY(4), </span><br><span class="line">   FRIDAY(5), </span><br><span class="line">   SATURDAY(6),</span><br><span class="line">   SUNDAY(7);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="三-格式规约"><a href="#三-格式规约" class="headerlink" title="三. 格式规约"></a><a name="javaFormat">三. 格式规约</a></h1><h4 id="1-【建议】缩进采用-4-个空格，禁止使用-tab-字符。"><a href="#1-【建议】缩进采用-4-个空格，禁止使用-tab-字符。" class="headerlink" title="1. 【建议】缩进采用 4 个空格，禁止使用 tab 字符。"></a>1. 【建议】缩进采用 4 个空格，禁止使用 tab 字符。</h4><p>说明：如果使用 tab 缩进，必须设置 1 个 tab 为 4 个空格。IDEA 设置 tab 为 4 个空格时，请勿勾选 <code>Use tab character</code>；而在 eclipse 中，必须勾选 <code>insert spaces for tabs</code>。因为tab很容易造成代码对齐方式错乱,尤其在生成html文档的时候格式会乱掉。</p>
<hr>
<h4 id="2-【强制】单行字符数限制不超过-120-个，超出需要换行。"><a href="#2-【强制】单行字符数限制不超过-120-个，超出需要换行。" class="headerlink" title="2. 【强制】单行字符数限制不超过 120 个，超出需要换行。"></a>2. 【强制】单行字符数限制不超过 120 个，超出需要换行。</h4><h4 id="3-Javadoc"><a href="#3-Javadoc" class="headerlink" title="3. Javadoc"></a>3. Javadoc</h4><p>标准的Javadoc常见的标记和含义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Javadoc常见的标记</span><br><span class="line"> * </span><br><span class="line"> * @param 方法参数的说明</span><br><span class="line"> * @return 对方法返回值的说明</span><br><span class="line"> * @throws 方法抛出异常的藐视</span><br><span class="line"> * @version 模块的版本号</span><br><span class="line"> * @author 模块的作者</span><br><span class="line"> * @see  参考方向</span><br><span class="line"> * @deprecated 标记是否过时</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="四-OOP规约"><a href="#四-OOP规约" class="headerlink" title="四. OOP规约"></a>四. OOP规约</h1><h4 id="1-【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加-Deprecated-注解，并清晰地说明采用的新接口或者新服务是什么。"><a href="#1-【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加-Deprecated-注解，并清晰地说明采用的新接口或者新服务是什么。" class="headerlink" title="1. 【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加@Deprecated 注解，并清晰地说明采用的新接口或者新服务是什么。"></a>1. 【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加@Deprecated 注解，并清晰地说明采用的新接口或者新服务是什么。</h4><hr>
<h4 id="2-【强制】定义-DO-DTO-VO-等-POJO-类时，不要设定任何属性默认值。"><a href="#2-【强制】定义-DO-DTO-VO-等-POJO-类时，不要设定任何属性默认值。" class="headerlink" title="2. 【强制】定义 DO/DTO/VO 等 POJO 类时，不要设定任何属性默认值。"></a>2. 【强制】定义 DO/DTO/VO 等 POJO 类时，不要设定任何属性默认值。</h4><p>反例：POJO 类的 gmtCreate 默认值为 new Date(); , 但是这个属性在数据提取时并没有置入具体值，在更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。</p>
<h4 id="3-【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在-init-方法中。"><a href="#3-【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在-init-方法中。" class="headerlink" title="3.  【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在 init 方法中。"></a>3.  【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在 init 方法中。</h4><hr>
<h4 id="4-【强制】POJO-类必须写-toString-方法。使用-IDE-的中工具：source-gt-generate-toString时，如果继承了另一个-POJO-类，注意在前面加一下-super-toString。"><a href="#4-【强制】POJO-类必须写-toString-方法。使用-IDE-的中工具：source-gt-generate-toString时，如果继承了另一个-POJO-类，注意在前面加一下-super-toString。" class="headerlink" title="4. 【强制】POJO 类必须写 toString 方法。使用 IDE 的中工具：source&gt; generate toString时，如果继承了另一个 POJO 类，注意在前面加一下 super.toString。"></a>4. 【强制】POJO 类必须写 toString 方法。使用 IDE 的中工具：source&gt; generate toString时，如果继承了另一个 POJO 类，注意在前面加一下 super.toString。</h4><p>说明：在方法执行抛出异常时，可以直接调用 POJO 的 toString()方法打印其属性值，便于排查问题。</p>
<hr>
<h4 id="5-【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。"><a href="#5-【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。" class="headerlink" title="5. 【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。"></a>5. 【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。</h4><hr>
<h4 id="6-【推荐】-类内方法定义顺序依次是：公有方法或保护方法-gt-私有方法-gt-getter-setter方法。"><a href="#6-【推荐】-类内方法定义顺序依次是：公有方法或保护方法-gt-私有方法-gt-getter-setter方法。" class="headerlink" title="6.【推荐】 类内方法定义顺序依次是：公有方法或保护方法 &gt; 私有方法 &gt; getter/setter方法。"></a>6.【推荐】 类内方法定义顺序依次是：公有方法或保护方法 &gt; 私有方法 &gt; getter/setter方法。</h4><p>说明：公有方法是类的调用者和维护者最关心的方法，首屏展示最好；<br>保护方法虽然只是子类关心，也可能是“模板设计模式”下的核心方法；<br>而私有方法外部一般不需要特别关心，是一个黑盒实现；<br>因为方法信息价值较低，所有 Service 和 DAO 的 getter/setter 方法放在类体最后。  </p>
<hr>
<h4 id="7-【推荐】setter-方法中，参数名称与类成员变量名称一致，this-成员名-参数名。在getter-setter-方法中，不要增加业务逻辑，增加排查问题的难度。我曾天真的认为这种黑魔法很酷。"><a href="#7-【推荐】setter-方法中，参数名称与类成员变量名称一致，this-成员名-参数名。在getter-setter-方法中，不要增加业务逻辑，增加排查问题的难度。我曾天真的认为这种黑魔法很酷。" class="headerlink" title="7.  【推荐】setter 方法中，参数名称与类成员变量名称一致，this.成员名 = 参数名。在getter/setter 方法中，不要增加业务逻辑，增加排查问题的难度。我曾天真的认为这种黑魔法很酷。"></a>7.  【推荐】setter 方法中，参数名称与类成员变量名称一致，this.成员名 = 参数名。在getter/setter 方法中，不要增加业务逻辑，增加排查问题的难度。我曾天真的认为这种黑魔法很酷。</h4><p>反例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public Integer getData() &#123;</span><br><span class="line">if (true) &#123;</span><br><span class="line">return data + 100;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">return data - 100;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="8-【推荐】下列情况，声明成-final-会更有提示性："><a href="#8-【推荐】下列情况，声明成-final-会更有提示性：" class="headerlink" title="8. 【推荐】下列情况，声明成 final 会更有提示性："></a>8. 【推荐】下列情况，声明成 final 会更有提示性：</h4><p>1） 不需要重新赋值的变量，包括类属性、局部变量。<br>2） 对象参数前加 final，表示不允许修改引用的指向。<br>3） 类方法确定不允许被重写。  </p>
<hr>
<h4 id="9-【推荐】类成员与方法访问控制从严："><a href="#9-【推荐】类成员与方法访问控制从严：" class="headerlink" title="9. 【推荐】类成员与方法访问控制从严："></a>9. 【推荐】类成员与方法访问控制从严：</h4><p>1） 如果不允许外部直接通过 new 来创建对象，那么构造方法必须是 private。<br>2） 工具类不允许有 public 或 default 构造方法。<br>3） 类非 static 成员变量并且与子类共享，必须是 protected。<br>4） 类非 static 成员变量并且仅在本类使用，必须是 private。<br>5） 类 static 成员变量如果仅在本类使用，必须是 private。<br>6） 若是 static 成员变量，必须考虑是否为 final。<br>7） 类成员方法只供类内部调用，必须是 private。<br>8） 类成员方法只对继承类公开，那么限制为 protected。<br>说明：任何类、方法、参数、变量，严控访问范围。过于宽泛的访问范围，不利于模块解耦。    </p>
<p>思考：如果是一个 private 的方法，想删除就删除，可是一个 public 的 service 方法，或者一个 public 的成员变量，删除一下，不得手心冒点汗吗？变量像自己的小孩，尽量在自己的视线内，变量作用域太大，如果无限制的到处跑，那么你会担心的。</p>
<hr>
<h1 id="四-集合操作"><a href="#四-集合操作" class="headerlink" title="四. 集合操作"></a>四. 集合操作</h1><h4 id="1-【强制】不要在-foreach-循环里进行元素的-remove-add-操作。remove-元素请使用-Iterator方式，如果并发操作，需要对-Iterator-对象加锁。"><a href="#1-【强制】不要在-foreach-循环里进行元素的-remove-add-操作。remove-元素请使用-Iterator方式，如果并发操作，需要对-Iterator-对象加锁。" class="headerlink" title="1. 【强制】不要在 foreach 循环里进行元素的 remove/add 操作。remove 元素请使用 Iterator方式，如果并发操作，需要对 Iterator 对象加锁。"></a>1. 【强制】不要在 foreach 循环里进行元素的 remove/add 操作。remove 元素请使用 Iterator方式，如果并发操作，需要对 Iterator 对象加锁。</h4><p>反例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; a = new ArrayList&lt;String&gt;();</span><br><span class="line">a.add(&quot;1&quot;);</span><br><span class="line">a.add(&quot;2&quot;);</span><br><span class="line">for (String temp : a) &#123;</span><br><span class="line">	if (&quot;1&quot;.equals(temp)) &#123;</span><br><span class="line">		a.remove(temp);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>正例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; it = a.iterator();</span><br><span class="line">while (it.hasNext()) &#123;</span><br><span class="line">	String temp = it.next();</span><br><span class="line">	if (删除元素的条件) &#123;</span><br><span class="line">	it.remove();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="五-异常处理"><a href="#五-异常处理" class="headerlink" title="五.异常处理"></a>五.异常处理</h1><h4 id="1-【推荐】方法的返回值可以为-null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回-null-值。调用方需要进行-null-判断防止-NPE-问题。"><a href="#1-【推荐】方法的返回值可以为-null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回-null-值。调用方需要进行-null-判断防止-NPE-问题。" class="headerlink" title="1.【推荐】方法的返回值可以为 null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回 null 值。调用方需要进行 null 判断防止 NPE 问题。"></a>1.【推荐】方法的返回值可以为 null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回 null 值。调用方需要进行 null 判断防止 NPE 问题。</h4><hr>
<h4 id="2-【强制】对大段代码进行-try-catch，这是不负责任的表现。catch-时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的-catch-尽可能进行区分异常类型，再做对应的异常处理。"><a href="#2-【强制】对大段代码进行-try-catch，这是不负责任的表现。catch-时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的-catch-尽可能进行区分异常类型，再做对应的异常处理。" class="headerlink" title="2. 【强制】对大段代码进行 try-catch，这是不负责任的表现。catch 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的 catch 尽可能进行区分异常类型，再做对应的异常处理。"></a>2. 【强制】对大段代码进行 try-catch，这是不负责任的表现。catch 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的 catch 尽可能进行区分异常类型，再做对应的异常处理。</h4><hr>
<h4 id="3-【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。"><a href="#3-【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。" class="headerlink" title="3. 【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。"></a>3. 【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。</h4><hr>
<h1 id="六-日志"><a href="#六-日志" class="headerlink" title="六. 日志"></a>六. 日志</h1><h4 id="1-【强制】直接return的情况下一定要打日志-不然根本无法判断代码没有执行还是在哪个位置被return了。"><a href="#1-【强制】直接return的情况下一定要打日志-不然根本无法判断代码没有执行还是在哪个位置被return了。" class="headerlink" title="1. 【强制】直接return的情况下一定要打日志,不然根本无法判断代码没有执行还是在哪个位置被return了。"></a>1. 【强制】直接return的情况下一定要打日志,不然根本无法判断代码没有执行还是在哪个位置被return了。</h4><hr>
<h4 id="2-【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字-throws-往上抛出。"><a href="#2-【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字-throws-往上抛出。" class="headerlink" title="2. 【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字 throws 往上抛出。"></a>2. 【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字 throws 往上抛出。</h4><p>正例：logger.error(各类参数或者对象 toString + “_” + e.getMessage(), e);</p>
<hr>
<h4 id="3-【参考】可以使用-warn-日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error-级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出-error-级别。"><a href="#3-【参考】可以使用-warn-日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error-级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出-error-级别。" class="headerlink" title="3. 【参考】可以使用 warn 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error 级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出 error 级别。"></a>3. 【参考】可以使用 warn 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error 级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出 error 级别。</h4><h1 id="Javascript规范"><a href="#Javascript规范" class="headerlink" title="Javascript规范"></a>Javascript规范</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a><a name="contents">目录</a></h2><ol>
<li><a href="#name">命名</a></li>
<li><a href="#init">初始化</a> </li>
<li><a href="#function">函数</a></li>
<li><a href="#loop">循环</a></li>
<li><a href="#prop">属性访问</a></li>
<li><a href="#comment">注释</a></li>
<li><a href="#style">代码风格</a></li>
</ol>
<hr>
<h2 id="命名"><a href="#命名" class="headerlink" title="命名"></a><a name="name">命名</a></h2><ul>
<li><p>常规变量命名为驼峰式命名。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">var</span> citytext = <span class="string">'北京'</span>;</span><br><span class="line"><span class="keyword">var</span> is_number = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> has_selectCity = <span class="literal">true</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> cityText = <span class="string">'北京'</span>;</span><br><span class="line"><span class="keyword">var</span> isNumber = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> hasSelectCity = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用同义词替换需要使用的保留字。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> superman = &#123;</span><br><span class="line">  class: 'alien'</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> superman = &#123;</span><br><span class="line">  klass: <span class="string">'alien'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> superman = &#123;</span><br><span class="line">  type: <span class="string">'alien'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>避免单字母命名。命名应具备描述性。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">q</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// // 一大坨代码stuff// 一大坨代码</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ..stuff..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>构造函数首字母大写。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">var</span> validate = <span class="function"><span class="keyword">function</span>(<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.el = el;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;; </span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> Validate = <span class="function"><span class="keyword">function</span>(<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.el = el;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用下划线 _ 开头命名私有属性。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">this</span>.__firstName__ = <span class="string">'Panda'</span>;</span><br><span class="line"><span class="keyword">this</span>.firstName_ = <span class="string">'Panda'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">this</span>._firstName = <span class="string">'Panda'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>_this</code>来缓存当前作用域内<code>this</code>的引用。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">// var self = this;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(that)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(_this)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Boolean</code>类型的变量或属性以<code>is</code>/<code>has</code>开头。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">var</span> selected = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> showCancel = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> hotel = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> isSelected = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> isShowCancel = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> hasHotel = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果变量是<code>jquery</code>对象，变量名以<code>$</code>开头。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> target = $(<span class="string">'#target'</span>);</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> $target = $(<span class="string">'#target'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><a href="#contents">⬆ 回到顶部</a></strong></p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a><a name="init">初始化</a></h2><ul>
<li><p>使用<code>{}</code>初始化对象字面量</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用<code>[]</code>初始化数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> obj = [];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p><strong><a href="#contents">⬆ 回到顶部</a></strong></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a><a name="function">函数</a></h2><ul>
<li><p>函数体避免过大，可拆分成几个职责清晰的单一函数(单一职责原则)。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨渲染列表的代码</span></span><br><span class="line">    <span class="comment">// 一大坨渲染公告的代码</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    renderList();</span><br><span class="line">    renderNotice();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 渲染列表</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderNotice</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 渲染公告</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数参数避免过多，当参数大于3个或参数中有<code>boolean</code>类型的值时，全部参数或可选参数使用配置对象代替。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDialog</span>(<span class="params">el, data, target, className, isShowClose</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDialog</span>(<span class="params">option</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;;</span><br><span class="line">showDialog(&#123;</span><br><span class="line">    el: <span class="string">'#el'</span>, </span><br><span class="line">    target: <span class="string">'#target'</span>, </span><br><span class="line">    className: <span class="string">'className'</span>, </span><br><span class="line">    isShowClose: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>立即执行函数使用()来包裹，避免返回不必要的值。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> <span class="title">iife</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;(); <span class="comment">// 返回true</span></span><br><span class="line">+<span class="function"><span class="keyword">function</span> <span class="title">iife</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;(); <span class="comment">// 返回NaN</span></span><br><span class="line">-<span class="function"><span class="keyword">function</span> <span class="title">iife</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;(); <span class="comment">// 返回NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">iife</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用对象字面量给构造函数的原型对象添加属性，并指定<code>constructor</code>。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">var</span> Dog = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;;</span><br><span class="line">Dog.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">Dog.prototype.sleep = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">Dog.prototype.bark = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> Dog = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;;</span><br><span class="line">Dog.prototype = &#123;</span><br><span class="line">    constructro: Dog,</span><br><span class="line">    eat: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    sleep: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    bark: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果你需要存取函数时使用 <code>get</code>和 <code>set</code> 作为函数名前缀。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">dragon.age();</span><br><span class="line">dragon.ageGet();</span><br><span class="line">dragon.ageSet();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">dragon.getAge();</span><br><span class="line">dragon.setAge(<span class="number">25</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果属性是布尔值，使用 <code>is</code> 或 <code>has</code> 作为函数名的前缀。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (!dragon.age()) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (!dragon.hasAge()) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><a href="#contents">⬆ 回到顶部</a></strong></p>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a><a name="loop">循环</a></h2><ul>
<li><p>迭代数组对象时，缓存数组的长度大小;</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arry = [];</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">var</span> len;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; arry.length; i++)&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>迭代聚合对象时，缓存当前值;</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arry = [];</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">var</span> len;</span><br><span class="line"><span class="keyword">var</span> current;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> name = arry[i].name;</span><br><span class="line">    <span class="keyword">var</span> age = arry[i].age;</span><br><span class="line">    <span class="keyword">var</span> sex = arry[i].sex;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">    current = arry[i];</span><br><span class="line">    <span class="keyword">var</span> name = current.name;</span><br><span class="line">    <span class="keyword">var</span> age = current.age;</span><br><span class="line">    <span class="keyword">var</span> sex = current.sex;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在聚合对象中查找单个对象时，及时退出循环;</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arry;</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">var</span> len;</span><br><span class="line"><span class="keyword">var</span> targetId;</span><br><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arry[i].id)&#123;</span><br><span class="line">        <span class="comment">// 一大坨代码</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arry[i].id)&#123;</span><br><span class="line">        <span class="comment">// 一大坨代码</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>保持循环体清晰明了;</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arry = [];</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">var</span> len;</span><br><span class="line"><span class="keyword">var</span> current;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        <span class="comment">// 一大坨逻辑</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">// 一大坨逻辑</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = arry.length; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">10</span>)&#123;</span><br><span class="line">        doSomething();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        doAnotherthing();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doAnotherthing</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><a href="#contents">⬆ 回到顶部</a></strong></p>
<h2 id="属性访问"><a href="#属性访问" class="headerlink" title="属性访问"></a><a name="prop">属性访问</a></h2><ul>
<li><p>使用 . 来访问对象的属性。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> luke = &#123;</span><br><span class="line">  jedi: <span class="literal">true</span>,</span><br><span class="line">  age: <span class="number">28</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> isJedi = luke[<span class="string">'jedi'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> isJedi = luke.jedi;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当通过变量访问属性时使用中括号 []。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> luke = &#123;</span><br><span class="line">  jedi: <span class="literal">true</span>,</span><br><span class="line">  age: <span class="number">28</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProp</span>(<span class="params">prop</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> luke[prop];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isJedi = getProp(<span class="string">'jedi'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><a href="#contents">⬆ 回到顶部</a></strong></p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a><a name="comment">注释</a></h2><ul>
<li><p>函数描述注释。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [testFunction description]</span></span><br><span class="line"><span class="comment"> * @param  &#123;[type]&#125; a [description]</span></span><br><span class="line"><span class="comment"> * @param  &#123;[type]&#125; b [description]</span></span><br><span class="line"><span class="comment"> * @param  &#123;[type]&#125; c [description]</span></span><br><span class="line"><span class="comment"> * @return &#123;[type]&#125;   [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testFunction</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>单行注释。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bad </span></span><br><span class="line"><span class="comment">/* 初始化项目 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//初始化项目</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// 初始化项目</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>多行注释。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bad </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 初始化项目</span></span><br><span class="line"><span class="comment">// 并获取数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一大坨代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  初始化项目 </span></span><br><span class="line"><span class="comment">  并获取数据</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一大坨代码  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><a href="#contents">⬆ 回到顶部</a></strong></p>
<h2 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a><a name="style">代码风格</a></h2><ul>
<li><p>使用4格<code>tab</code>缩进。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">'naraku'</span>;</span><br><span class="line">  <span class="keyword">switch</span>(name)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'haha'</span>:</span><br><span class="line">      <span class="built_in">console</span>.log(name);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">'naraku'</span>;</span><br><span class="line">    <span class="keyword">switch</span>(name)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'haha'</span>:</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用单引号<code>&#39;&#39;</code>包裹字符串。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Bob Parr"</span>;</span><br><span class="line"><span class="keyword">var</span> fullName = <span class="string">"Bob "</span> + <span class="keyword">this</span>.lastName;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Bob Parr'</span>;</span><br><span class="line"><span class="keyword">var</span> fullName = <span class="string">'Bob '</span> + <span class="keyword">this</span>.lastName;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 <code>var</code> 声明每一个变量。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="literal">true</span>,</span><br><span class="line">    dragonball = <span class="string">'z'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// （跟上面的代码比较一下，看看哪里错了）</span></span><br><span class="line"><span class="keyword">var</span> items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="literal">true</span>;</span><br><span class="line">    dragonball = <span class="string">'z'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> items = getItems();</span><br><span class="line"><span class="keyword">var</span> goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> dragonball = <span class="string">'z'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后再声明未赋值的变量。当你需要引用前面的变量赋值时这将变的很有用。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> i, len, dragonball,</span><br><span class="line">    items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">var</span> items = getItems();</span><br><span class="line"><span class="keyword">var</span> dragonball;</span><br><span class="line"><span class="keyword">var</span> goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> len;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> items = getItems();</span><br><span class="line"><span class="keyword">var</span> goSportsTeam = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> dragonball;</span><br><span class="line"><span class="keyword">var</span> length;</span><br><span class="line"><span class="keyword">var</span> i;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用大括号包裹所有的多行代码块。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (test)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (test) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nameBad</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nameGood</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>把 else 放在 if 代码块关闭括号的同一行。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在大括号前放一个空格。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'test'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'test'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">dog.set(<span class="string">'attr'</span>,&#123;</span><br><span class="line">  age: <span class="string">'1 year'</span>,</span><br><span class="line">  breed: <span class="string">'Bernese Mountain Dog'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">dog.set(<span class="string">'attr'</span>, &#123;</span><br><span class="line">  age: <span class="string">'1 year'</span>,</span><br><span class="line">  breed: <span class="string">'Bernese Mountain Dog'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>在控制语句（if、while 等）的小括号前放一个空格。在函数调用及声明中，不在函数的参数列表前加空格。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span>(isJedi) &#123;</span><br><span class="line">  fight ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (isJedi) &#123;</span><br><span class="line">  fight();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fight</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log (<span class="string">'Swooosh!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fight</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Swooosh!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用空格把运算符隔开。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> x=y+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> result=isOk?<span class="string">'ok'</span>:<span class="string">'no'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> x = y + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> result = isOk ? <span class="string">'ok'</span> : <span class="string">'no'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>自增/自减运算符不需要隔开。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> x = y ++;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> x = y++;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用三元运算符时，保证他们在同一行或者<code>?</code>,<code>:</code>单独一行不分开。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> location = env.development ?</span><br><span class="line">  <span class="string">'localhost'</span> :</span><br><span class="line">  <span class="string">'www.api.com'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> location = env.development ? <span class="string">'localhost'</span> : <span class="string">'www.api.com'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> location = env.development</span><br><span class="line">  ? <span class="string">'localhost'</span></span><br><span class="line">  : <span class="string">'www.api.com'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用行尾逗号。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> story = [</span><br><span class="line">    once</span><br><span class="line">  , upon</span><br><span class="line">  , aTime</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> story = [</span><br><span class="line">  once,</span><br><span class="line">  upon,</span><br><span class="line">  aTime</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> hero = &#123;</span><br><span class="line">    firstName: <span class="string">'Bob'</span></span><br><span class="line">  , <span class="attr">lastName</span>: <span class="string">'Parr'</span></span><br><span class="line">  , <span class="attr">heroName</span>: <span class="string">'Mr. Incredible'</span></span><br><span class="line">  , <span class="attr">superPower</span>: <span class="string">'strength'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> hero = &#123;</span><br><span class="line">  firstName: <span class="string">'Bob'</span>,</span><br><span class="line">  lastName: <span class="string">'Parr'</span>,</span><br><span class="line">  heroName: <span class="string">'Mr. Incredible'</span>,</span><br><span class="line">  superPower: <span class="string">'strength'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>去除额外的尾部逗号。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> hero = &#123;</span><br><span class="line">  firstName: <span class="string">'Bob'</span>,</span><br><span class="line">  lastName: <span class="string">'Parr'</span>,</span><br><span class="line">  heroName: <span class="string">'Mr. Incredible'</span>,</span><br><span class="line">  superPower: <span class="string">'strength'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> arry = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>,]</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> hero = &#123;</span><br><span class="line">  firstName: <span class="string">'Bob'</span>,</span><br><span class="line">  lastName: <span class="string">'Parr'</span>,</span><br><span class="line">  heroName: <span class="string">'Mr. Incredible'</span>,</span><br><span class="line">  superPower: <span class="string">'strength'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> arry = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>在每一个语句后使用分号。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">'Skywalker'</span></span><br><span class="line">  <span class="keyword">return</span> name</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">'Skywalker'</span>;</span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<pre><code># Sql规范

1. [基本规范](#1-基本规范)
2. [性能约束](#2-性能约束)

---

## 1 基本规范

## 1.1. 数据库

- 名称使用英文小写和下划线分割的规则, **必须**以复数形式结尾, 字段长度不能超过3个单词长度, 单个单词长度超过10个字母的应当使用缩写；

- 如没有特殊的需求，尽量采用 `utf8` 作为默认字符集。

- 坚持最小权限控制原则。

- 设计数据库时遵循范式化设计，至少达到第三范式，特殊情况下可以让极少数的字段冗余。

### 1.2. 数据表

- 必须使用 `项目名_模块名_表名` 来作为数据表的完整名称，且必须使用英文全名，并且采用小写和下划线分割的规则，如果真的太长需要缩写，则采用首4个字母，尽量做到语义要明确，不能让人产生困惑。

- **必须**要有表注释。

- 如非必要，**必须**采用 `utf8` 字符集。

- 如没有特殊需求，尽量采用 `innodb` 引擎。

- 每个表都**必须**有一个自增主键 `id`。

- 每个表都**必须**有 `create_time` 字段，字段类型**必须**为 `int(10)`，字段值必须为时间戳。

- 每个表都**必须**有 `update_time` 字段，字段类型**必须**为 `int(10)`，字段值必须为时间戳。

- 每个表都**必须**有 `create_user` 字段，字段类型**必须**为 `int` ，字段长度**必须**设置为 `11`。

- 每个表都**必须**有 `update_user` 字段，字段类型**必须**为 `int`，字段长度**必须**设置为 `11`。

- 每个表都**必须**有 `del_flg` 字段，字段类型**必须**为 `tinyint` ，默认是必须设置为 `0`。

### 1.3. 字段

- 字段名采用规范的英文小写格式，并且以下划线”_”分割，长度不能超过3个单词长度，单个单词长度超过10个字母的应当使用缩写，**禁止**使用mysql的关键字作为字段名， 正确的例子如 `user_id`、`room_type`。

- `timestamp、image、datetime、smalldatetime、uniqueidentifier、binary、sql_variant、binary、varbinary` 外，必须有默认值。

- 如非必要，所有字段**必须**设为 `not null`。

- 字符型的默认值为一个空字符值串 `&apos;&apos;`。

- 数值型的默认值为数值 `0` (具体看业务可以用其他数值)。

- 系统中所有逻辑型中数值 `0` 表示为“假”；数值 `1` 表示为“真”。

- 每个字段**必须**要有注释。

- 很多表的字段是类似的，如时间字段（创建时间，最后一次修改时间等），此时每一个表的命名都应该一致且类型也应该一致，如不能这个表使用 `int` 类型，那个表使用 `timestamp` 类型，另外的表又使用 `datetime` 类型，这个表命名 `created_at`，那个表命名 `create_time`。

---

## 2 性能约束

数据库的性能优化是个很庞大的话题，特别指出的是在设计数据库和查询时要时刻注意性能，因为大多数情况下，出现性能瓶颈的问题都在数据库的读写上，这方面的知识请查看相关的文章和书籍。

以下是一些基本的注意事项：

- **禁止**查询语句用 `*` 通配符。
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
            <a href="/tags/开发规范/" rel="tag"># 开发规范</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/05/hello-world/" rel="next" title="基于Hexo和Github搭建博客">
                <i class="fa fa-chevron-left"></i> 基于Hexo和Github搭建博客
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/06/interview-questions/" rel="prev" title="总有一天会用到">
                总有一天会用到 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="马玉亮" />
          <p class="site-author-name" itemprop="name">马玉亮</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Guide"><span class="nav-number">1.</span> <span class="nav-text">Guide</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么要有团队规范？"><span class="nav-number">1.1.</span> <span class="nav-text">为什么要有团队规范？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#规范列表："><span class="nav-number">1.2.</span> <span class="nav-text">规范列表：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java规范"><span class="nav-number">2.</span> <span class="nav-text">Java规范</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#变量定义"><span class="nav-number">2.0.0.1.</span> <span class="nav-text">变量定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常量定义"><span class="nav-number">2.0.0.2.</span> <span class="nav-text">常量定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#格式规约"><span class="nav-number">2.0.0.3.</span> <span class="nav-text">格式规约</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#一-变量定义"><span class="nav-number">3.</span> <span class="nav-text">一.变量定义</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【强制】-代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。"><span class="nav-number">3.0.0.1.</span> <span class="nav-text">1.【强制】 代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-类名使用-UpperCamelCase-风格（首字母大写），必须遵从驼峰形式。"><span class="nav-number">3.0.0.2.</span> <span class="nav-text">2. 类名使用 UpperCamelCase 风格（首字母大写），必须遵从驼峰形式。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-方法名、参数名、成员变量、局部变量都统一使用-lowerCamelCase-风格（首字母小写），必须遵从驼峰形式。"><span class="nav-number">3.0.0.3.</span> <span class="nav-text">3. 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格（首字母小写），必须遵从驼峰形式。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。"><span class="nav-number">3.0.0.4.</span> <span class="nav-text">4. 【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。"><span class="nav-number">3.0.0.5.</span> <span class="nav-text">5. 【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-杜绝完全不规范的缩写，避免望文不知义。"><span class="nav-number">3.0.0.6.</span> <span class="nav-text">6. 杜绝完全不规范的缩写，避免望文不知义。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。"><span class="nav-number">3.0.0.7.</span> <span class="nav-text">7. 【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-枚举类名建议带上-Enum-后缀，枚举成员名称需要全大写，单词间用下划线隔开。"><span class="nav-number">3.0.0.8.</span> <span class="nav-text">8. 枚举类名建议带上 Enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-【强制】-代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。"><span class="nav-number">3.0.0.9.</span> <span class="nav-text">9. 【强制】 代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-【推荐】接口类中的方法和属性不要加任何修饰符号（public-也不要加），保持代码的简洁性，并加上有效的-Javadoc-注释"><span class="nav-number">3.0.0.10.</span> <span class="nav-text">10. 【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的 Javadoc 注释</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-源代码文件以文件内容中的最顶层的Java类命名，而且大小写敏感，文件扩展名为-java，同时，文件的编码格式统一为UTF-8。"><span class="nav-number">3.0.0.11.</span> <span class="nav-text">11. 源代码文件以文件内容中的最顶层的Java类命名，而且大小写敏感，文件扩展名为 .java，同时，文件的编码格式统一为UTF-8。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-类的命名遵循大驼峰命名法UpperCamelCase，而方法名和变量名的命名遵循小驼峰命名法lowerCamelCase"><span class="nav-number">3.0.0.12.</span> <span class="nav-text">12. 类的命名遵循大驼峰命名法UpperCamelCase，而方法名和变量名的命名遵循小驼峰命名法lowerCamelCase</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二-常量定义"><span class="nav-number">4.</span> <span class="nav-text">二.常量定义</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【强制】不允许出现任何魔法值（即未经定义的常量）直接出现在代码中。"><span class="nav-number">4.0.0.1.</span> <span class="nav-text">1. 【强制】不允许出现任何魔法值（即未经定义的常量）直接出现在代码中。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-【强制】long-或者-Long-初始赋值时，必须使用大写的-L，不能是小写的-l，小写容易跟数字1-混淆，造成误解。"><span class="nav-number">4.0.0.2.</span> <span class="nav-text">2. 【强制】long 或者 Long 初始赋值时，必须使用大写的 L，不能是小写的 l，小写容易跟数字1 混淆，造成误解。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-【强制】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。"><span class="nav-number">4.0.0.3.</span> <span class="nav-text">3. 【强制】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。"><span class="nav-number">4.0.0.4.</span> <span class="nav-text">4. 【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面"><span class="nav-number">4.0.0.5.</span> <span class="nav-text">5.【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三-格式规约"><span class="nav-number">5.</span> <span class="nav-text">三. 格式规约</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【建议】缩进采用-4-个空格，禁止使用-tab-字符。"><span class="nav-number">5.0.0.1.</span> <span class="nav-text">1. 【建议】缩进采用 4 个空格，禁止使用 tab 字符。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-【强制】单行字符数限制不超过-120-个，超出需要换行。"><span class="nav-number">5.0.0.2.</span> <span class="nav-text">2. 【强制】单行字符数限制不超过 120 个，超出需要换行。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Javadoc"><span class="nav-number">5.0.0.3.</span> <span class="nav-text">3. Javadoc</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四-OOP规约"><span class="nav-number">6.</span> <span class="nav-text">四. OOP规约</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加-Deprecated-注解，并清晰地说明采用的新接口或者新服务是什么。"><span class="nav-number">6.0.0.1.</span> <span class="nav-text">1. 【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加@Deprecated 注解，并清晰地说明采用的新接口或者新服务是什么。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-【强制】定义-DO-DTO-VO-等-POJO-类时，不要设定任何属性默认值。"><span class="nav-number">6.0.0.2.</span> <span class="nav-text">2. 【强制】定义 DO/DTO/VO 等 POJO 类时，不要设定任何属性默认值。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在-init-方法中。"><span class="nav-number">6.0.0.3.</span> <span class="nav-text">3.  【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在 init 方法中。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-【强制】POJO-类必须写-toString-方法。使用-IDE-的中工具：source-gt-generate-toString时，如果继承了另一个-POJO-类，注意在前面加一下-super-toString。"><span class="nav-number">6.0.0.4.</span> <span class="nav-text">4. 【强制】POJO 类必须写 toString 方法。使用 IDE 的中工具：source&gt; generate toString时，如果继承了另一个 POJO 类，注意在前面加一下 super.toString。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。"><span class="nav-number">6.0.0.5.</span> <span class="nav-text">5. 【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-【推荐】-类内方法定义顺序依次是：公有方法或保护方法-gt-私有方法-gt-getter-setter方法。"><span class="nav-number">6.0.0.6.</span> <span class="nav-text">6.【推荐】 类内方法定义顺序依次是：公有方法或保护方法 &gt; 私有方法 &gt; getter/setter方法。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-【推荐】setter-方法中，参数名称与类成员变量名称一致，this-成员名-参数名。在getter-setter-方法中，不要增加业务逻辑，增加排查问题的难度。我曾天真的认为这种黑魔法很酷。"><span class="nav-number">6.0.0.7.</span> <span class="nav-text">7.  【推荐】setter 方法中，参数名称与类成员变量名称一致，this.成员名 = 参数名。在getter/setter 方法中，不要增加业务逻辑，增加排查问题的难度。我曾天真的认为这种黑魔法很酷。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-【推荐】下列情况，声明成-final-会更有提示性："><span class="nav-number">6.0.0.8.</span> <span class="nav-text">8. 【推荐】下列情况，声明成 final 会更有提示性：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-【推荐】类成员与方法访问控制从严："><span class="nav-number">6.0.0.9.</span> <span class="nav-text">9. 【推荐】类成员与方法访问控制从严：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四-集合操作"><span class="nav-number">7.</span> <span class="nav-text">四. 集合操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【强制】不要在-foreach-循环里进行元素的-remove-add-操作。remove-元素请使用-Iterator方式，如果并发操作，需要对-Iterator-对象加锁。"><span class="nav-number">7.0.0.1.</span> <span class="nav-text">1. 【强制】不要在 foreach 循环里进行元素的 remove/add 操作。remove 元素请使用 Iterator方式，如果并发操作，需要对 Iterator 对象加锁。</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五-异常处理"><span class="nav-number">8.</span> <span class="nav-text">五.异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【推荐】方法的返回值可以为-null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回-null-值。调用方需要进行-null-判断防止-NPE-问题。"><span class="nav-number">8.0.0.1.</span> <span class="nav-text">1.【推荐】方法的返回值可以为 null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回 null 值。调用方需要进行 null 判断防止 NPE 问题。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-【强制】对大段代码进行-try-catch，这是不负责任的表现。catch-时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的-catch-尽可能进行区分异常类型，再做对应的异常处理。"><span class="nav-number">8.0.0.2.</span> <span class="nav-text">2. 【强制】对大段代码进行 try-catch，这是不负责任的表现。catch 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的 catch 尽可能进行区分异常类型，再做对应的异常处理。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。"><span class="nav-number">8.0.0.3.</span> <span class="nav-text">3. 【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六-日志"><span class="nav-number">9.</span> <span class="nav-text">六. 日志</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-【强制】直接return的情况下一定要打日志-不然根本无法判断代码没有执行还是在哪个位置被return了。"><span class="nav-number">9.0.0.1.</span> <span class="nav-text">1. 【强制】直接return的情况下一定要打日志,不然根本无法判断代码没有执行还是在哪个位置被return了。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字-throws-往上抛出。"><span class="nav-number">9.0.0.2.</span> <span class="nav-text">2. 【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字 throws 往上抛出。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-【参考】可以使用-warn-日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error-级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出-error-级别。"><span class="nav-number">9.0.0.3.</span> <span class="nav-text">3. 【参考】可以使用 warn 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error 级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出 error 级别。</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Javascript规范"><span class="nav-number">10.</span> <span class="nav-text">Javascript规范</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#目录"><span class="nav-number">10.1.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命名"><span class="nav-number">10.2.</span> <span class="nav-text">命名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化"><span class="nav-number">10.3.</span> <span class="nav-text">初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数"><span class="nav-number">10.4.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环"><span class="nav-number">10.5.</span> <span class="nav-text">循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#属性访问"><span class="nav-number">10.6.</span> <span class="nav-text">属性访问</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注释"><span class="nav-number">10.7.</span> <span class="nav-text">注释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码风格"><span class="nav-number">10.8.</span> <span class="nav-text">代码风格</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">马玉亮</span>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
